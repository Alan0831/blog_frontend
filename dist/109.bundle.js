"use strict";(self.webpackChunkcommit_front=self.webpackChunkcommit_front||[]).push([[109],{6270:(e,n,t)=>{t.d(n,{A:()=>E});var o=t(4467),A=t(8168),r=t(5544),a=t(7852),c=t(6942),l=t.n(c),i=t(9853),s=t(6540),d=t(2279),m=t(4121),p=t(5689);var h=new RegExp("^(".concat(m.w.join("|"),")(-inverse)?$")),f=new RegExp("^(".concat(m.C.join("|"),")$")),u=function(e,n){var t,c=e.prefixCls,m=e.className,u=e.style,g=e.children,E=e.icon,x=e.color,C=e.onClose,v=e.closeIcon,b=e.closable,y=void 0!==b&&b,w=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var A=0;for(o=Object.getOwnPropertySymbols(e);A<o.length;A++)n.indexOf(o[A])<0&&Object.prototype.propertyIsEnumerable.call(e,o[A])&&(t[o[A]]=e[o[A]])}return t}(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),k=s.useContext(d.QO),B=k.getPrefixCls,_=k.direction,N=s.useState(!0),S=(0,r.A)(N,2),O=S[0],z=S[1];s.useEffect((function(){"visible"in w&&z(w.visible)}),[w.visible]);var I=function(){return!!x&&(h.test(x)||f.test(x))},R=(0,A.A)({backgroundColor:x&&!I()?x:void 0},u),P=I(),L=B("tag",c),j=l()(L,(t={},(0,o.A)(t,"".concat(L,"-").concat(x),P),(0,o.A)(t,"".concat(L,"-has-color"),x&&!P),(0,o.A)(t,"".concat(L,"-hidden"),!O),(0,o.A)(t,"".concat(L,"-rtl"),"rtl"===_),t),m),J=function(e){e.stopPropagation(),null==C||C(e),e.defaultPrevented||"visible"in w||z(!1)},Q="onClick"in w||g&&"a"===g.type,T=(0,i.A)(w,["visible"]),Y=E||null,W=Y?s.createElement(s.Fragment,null,Y,s.createElement("span",null,g)):g,Z=s.createElement("span",(0,A.A)({},T,{ref:n,className:j,style:R}),W,y?v?s.createElement("span",{className:"".concat(L,"-close-icon"),onClick:J},v):s.createElement(a.A,{className:"".concat(L,"-close-icon"),onClick:J}):null);return Q?s.createElement(p.A,null,Z):Z},g=s.forwardRef(u);g.CheckableTag=function(e){var n,t=e.prefixCls,r=e.className,a=e.checked,c=e.onChange,i=e.onClick,m=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var A=0;for(o=Object.getOwnPropertySymbols(e);A<o.length;A++)n.indexOf(o[A])<0&&Object.prototype.propertyIsEnumerable.call(e,o[A])&&(t[o[A]]=e[o[A]])}return t}(e,["prefixCls","className","checked","onChange","onClick"]),p=(0,s.useContext(d.QO).getPrefixCls)("tag",t),h=l()(p,(n={},(0,o.A)(n,"".concat(p,"-checkable"),!0),(0,o.A)(n,"".concat(p,"-checkable-checked"),a),n),r);return s.createElement("span",(0,A.A)({},m,{className:h,onClick:function(e){null==c||c(!a),null==i||i(e)}}))};const E=g},8548:(e,n,t)=>{t.d(n,{A:()=>b});var o=t(6540),A=t(7767),r=t(6824),a=t(4925),c=t(3678),l=t(5072),i=t.n(l),s=t(7825),d=t.n(s),m=t(7659),p=t.n(m),h=t(5056),f=t.n(h),u=t(540),g=t.n(u),E=t(1113),x=t.n(E),C=t(3304),v={};v.styleTagTransform=x(),v.setAttributes=f(),v.insert=p().bind(null,"head"),v.domAPI=d(),v.insertStyleElement=g(),i()(C.A,v),C.A&&C.A.locals&&C.A.locals;const b=function(e){const[n,t]=(0,o.useState)([]),l=(0,A.Zp)();return(0,o.useEffect)((()=>{t(e.articleList)}),[e.articleList]),o.createElement(r.A,{style:{margin:"16px auto"}},o.createElement("div",{className:"re-card"},o.createElement("div",{className:"re-title"},"热门文章",o.createElement("span",{style:{marginLeft:"7px"}},o.createElement(a.A,{twoToneColor:"#e0730d"}))),o.createElement("div",{className:"re-list"},n.length?n.map(((e,n)=>o.createElement("p",{onClick:()=>l(`/article/${e.id}`),key:n},o.createElement("span",{className:"re-content"},n+1," 、  ",e.title),o.createElement("span",{style:{marginLeft:"7px"}},o.createElement(c.A,{twoToneColor:"#858585"})),o.createElement("span",{style:{marginLeft:"7px"}},e.viewCount)))):null)))}},4109:(e,n,t)=>{t.r(n),t.d(n,{default:()=>Z});var o=t(6540),A=t(870),r=t(9772),a=t(9391),c=t(6824),l=t(2741),i=t(6270),s=t(7767),d=t(234),m=t(6746),p=t(9379);const h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M938 458.8l-29.6-312.6c-1.5-16.2-14.4-29-30.6-30.6L565.2 86h-.4c-3.2 0-5.7 1-7.6 2.9L88.9 557.2a9.96 9.96 0 000 14.1l363.8 363.8c1.9 1.9 4.4 2.9 7.1 2.9s5.2-1 7.1-2.9l468.3-468.3c2-2.1 3-5 2.8-8zM459.7 834.7L189.3 564.3 589 164.6 836 188l23.4 247-399.7 399.7zM680 256c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm0 120c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]},name:"tag",theme:"outlined"};var f=t(7064),u=function(e,n){return o.createElement(f.A,(0,p.A)((0,p.A)({},e),{},{ref:n,icon:h}))};const g=o.forwardRef(u);var E=t(52),x=t(5072),C=t.n(x),v=t(7825),b=t.n(v),y=t(7659),w=t.n(y),k=t(5056),B=t.n(k),_=t(540),N=t.n(_),S=t(1113),O=t.n(S),z=t(4498),I={};I.styleTagTransform=O(),I.setAttributes=B(),I.insert=w().bind(null,"head"),I.domAPI=b(),I.insertStyleElement=N(),C()(z.A,I),z.A&&z.A.locals&&z.A.locals;const R=function(e){const{articleInfo:n}=e,[t,A]=(0,o.useState)([]),[r,a]=(0,o.useState)(""),p=(0,s.Zp)();(0,o.useEffect)((()=>{console.log(e);let{content:t,tagList:o}=n;t=h(t),a(t),A(JSON.parse('["php","Java","JavaScript"]'))}),[e.articleInfo.id]);const h=e=>e.replace(/<[^>]*>?/gm,"");return o.createElement(c.A,{style:{margin:"16px auto"},onClick:()=>p(`/article/${n.id}`)},o.createElement("div",{className:"card-main"},o.createElement("div",{className:"card-title"},n.title),o.createElement(l.A,null),o.createElement("div",{className:"card-content"},r),o.createElement(l.A,null),o.createElement("div",{className:"card-footer"},o.createElement("div",{className:"viewCount"},o.createElement(d.A,{style:{marginRight:7}}),n.viewCount,o.createElement(m.A,{style:{marginLeft:7,marginRight:7}}),o.createElement("span",null," ",(0,E.H1)(n.comments))),o.createElement(l.A,{type:"vertical",style:{marginRight:7}}),o.createElement("div",{className:"viewCount"},o.createElement(g,{style:{marginRight:7}}),t.map((e=>o.createElement(i.A,{color:"#2db7f5",key:e},e)))),o.createElement(l.A,{type:"vertical",style:{marginRight:7}}),o.createElement("div",{className:"timeAndAuthor"},o.createElement("div",{className:"createAt"},"发布时间："+n.createdAt),o.createElement("div",null,"作者："+n.author)))))};var P=t(8159),L=t(2896),j=t(8588),J={};J.styleTagTransform=O(),J.setAttributes=B(),J.insert=w().bind(null,"head"),J.domAPI=b(),J.insertStyleElement=N(),C()(j.A,J),j.A&&j.A.locals&&j.A.locals;var Q=t(8548),T=t(6726);const{Search:Y}=A.A,W=new WebSocket("ws://127.0.0.1:9998");function Z(){const[e,n]=(0,o.useState)(!1),[t,A]=(0,o.useState)([]),[c,l]=(0,o.useState)([]),[i,s]=(0,o.useState)(1),[d,m]=(0,o.useState)(""),p=(0,L.d4)((e=>e.user)),h=(0,T.Ay)();(0,o.useEffect)((()=>{f(),Promise.allSettled([g(),u()]).then((()=>console.log("加载数据完成"))).catch((e=>console.error(e)))}),[]);const f=()=>{W.onopen=()=>{console.log("服务器链接成功"),W.send(JSON.stringify({toName:p.username}))},W.onmessage=e=>{h.emit("getNotice",JSON.parse(e.data))},W.onerror=e=>{console.error("socket错误:"+e)},W.onclose=()=>{console.log("socket已关闭")}},u=async function(){let e={pageNum:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,pageSize:arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,keyword:arguments.length>2&&void 0!==arguments[2]?arguments[2]:""};try{const n=await(0,P.E)("/getArticleList",{data:e});console.log(n?.data.rows),n?.data.rows&&A([...n?.data.rows])}catch(e){console.error(e)}},g=async function(){let e={pageNum:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,pageSize:arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,keyword:arguments.length>2&&void 0!==arguments[2]?arguments[2]:""};try{const n=await(0,P.E)("/getRecommendArticleList",{data:e});n?.data.rows&&l(n?.data.rows)}catch(e){console.error(e)}},E=()=>{u(1,10,d)};return o.createElement("div",{className:"home_content"},o.createElement(a.A,null),o.createElement("div",{className:"home_under_content"},o.createElement("div",{className:"home_left_content"},o.createElement(Q.A,{articleList:c})),o.createElement("div",{className:"home_right_content"},o.createElement("div",{className:"home_search"},o.createElement(Y,{placeholder:"请输入文章标题",enterButton:!0,onChange:e=>m(e.target.value),value:d,onPressEnter:E,onSearch:E,style:{width:"50%"}})),o.createElement("div",{className:"home_list"},o.createElement(r.Ay,{dataSource:t,renderItem:e=>o.createElement(r.Ay.Item,null,o.createElement(R,{articleInfo:e}))})))))}},52:(e,n,t)=>{t.d(n,{H1:()=>o}),t(5474);const o=e=>{if(!e)return 0;let n=e.length;return e.forEach((e=>{n+=e?.replies.length})),n}},4498:(e,n,t)=>{t.d(n,{A:()=>c});var o=t(1354),A=t.n(o),r=t(6314),a=t.n(r)()(A());a.push([e.id,".card-main {\n  height: 30vh;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.card-main .card-title {\n  height: 30px;\n  font-size: 25PX;\n  font-weight: 800;\n}\n.card-main .card-content {\n  flex: 1;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 4;\n  -webkit-box-orient: vertical;\n}\n.card-main .card-footer {\n  height: 20px;\n  font-size: 13px;\n  font-weight: 100;\n  display: flex;\n  flex-direction: row;\n}\n.card-main .card-footer .timeAndAuthor {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  flex: 1;\n}\n.card-main .ant-divider-horizontal {\n  margin: 12px 0;\n}\n.ant-card {\n  width: 90%;\n}\n.ant-card:hover {\n  cursor: pointer;\n  background-color: #cbe4f5;\n  box-shadow: 0 15px 30px 0 rgba(0, 0, 0, 0.1);\n  transform: translate3d(0, -5px 0);\n}\n","",{version:3,sources:["webpack://./src/components/ArticleCard/index.less"],names:[],mappings:"AAAA;EACI,YAAA;EACA,WAAA;EACA,aAAA;EACA,sBAAA;AACJ;AALA;EAMQ,YAAA;EACA,eAAA;EACA,gBAAA;AAER;AAVA;EAWQ,OAAA;EACA,gBAAA;EACA,uBAAA;EACA,oBAAA;EACA,qBAAA;EACA,4BAAA;AAER;AAlBA;EAmBQ,YAAA;EACA,eAAA;EACA,gBAAA;EACA,aAAA;EACA,mBAAA;AAER;AAzBA;EAgCY,aAAA;EACA,mBAAA;EACA,8BAAA;EACA,OAAA;AAJZ;AA/BA;EAuCQ,cAAA;AALR;AASA;EACI,UAAA;AAPJ;AASA;EACI,eAAA;EACA,yBAAA;EACA,4CAAA;EACA,iCAAA;AAPJ",sourcesContent:[".card-main{\n    height: 30vh;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    .card-title{\n        height: 30px;\n        font-size: 25PX;\n        font-weight: 800;\n    }\n    .card-content{\n        flex: 1;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-line-clamp: 4;\n        -webkit-box-orient: vertical;\n    }\n    .card-footer{\n        height: 20px;\n        font-size: 13px;\n        font-weight: 100;\n        display: flex;\n        flex-direction: row;\n        // justify-content: space-around;\n        .viewCount{\n\n        }\n        .createAt{\n\n        }\n        .timeAndAuthor{\n            display: flex;\n            flex-direction: row;\n            justify-content: space-between;\n            flex: 1;\n        }\n    }\n    .ant-divider-horizontal {\n        margin: 12px 0;\n    }\n}\n\n.ant-card{\n    width: 90%;\n}\n.ant-card:hover{\n    cursor: pointer;\n    background-color: rgb(203, 228, 245);\n    box-shadow: 0 15px 30px 0 rgba(0, 0, 0, 0.1);\n    transform: translate3d(0, -5px 0);\n}\n"],sourceRoot:""}]);const c=a},3304:(e,n,t)=>{t.d(n,{A:()=>c});var o=t(1354),A=t.n(o),r=t(6314),a=t.n(r)()(A());a.push([e.id,".ant-card-body {\n  padding: 10px 17px !important;\n  background-color: #fff;\n}\n.ant-card-body .re-card {\n  display: flex;\n  flex-direction: column;\n  cursor: default;\n}\n.ant-card-body .re-card .re-title {\n  font-size: 17px;\n  font-weight: 500;\n  text-align: center;\n  font-family: Helvetica, sans-serif;\n  color: #e0730d;\n}\n.ant-card-body .re-card .re-list {\n  margin-top: 20px;\n}\n.ant-card-body .re-card .re-list .re-content {\n  font-size: 13px;\n  color: black;\n}\n.ant-card-body .re-card .re-list .re-content:hover {\n  cursor: pointer;\n  color: #fc5531;\n}\n","",{version:3,sources:["webpack://./src/components/Recommend/index.less"],names:[],mappings:"AAAA;EACI,6BAAA;EACA,sBAAA;AACJ;AAHA;EAIQ,aAAA;EACA,sBAAA;EACA,eAAA;AAER;AARA;EAQY,eAAA;EACA,gBAAA;EACA,kBAAA;EACA,kCAAA;EACA,cAAA;AAGZ;AAfA;EAeY,gBAAA;AAGZ;AAlBA;EAiBgB,eAAA;EACA,YAAA;AAIhB;AAtBA;EAqBgB,eAAA;EACA,cAAA;AAIhB",sourcesContent:[".ant-card-body {\n    padding: 10px 17px !important;\n    background-color: #fff;\n    .re-card {\n        display: flex;\n        flex-direction: column;\n        cursor: default;\n        .re-title {\n            font-size: 17px;\n            font-weight: 500;\n            text-align: center;\n            font-family: Helvetica, sans-serif;\n            color: #e0730d;\n        }\n        .re-list {\n            margin-top: 20px;\n            .re-content {\n                font-size: 13px;\n                color: black;\n            }\n            .re-content:hover {\n                cursor: pointer;\n                color: #fc5531;\n            }\n        }\n    }\n}"],sourceRoot:""}]);const c=a},8588:(e,n,t)=>{t.d(n,{A:()=>m});var o=t(1354),A=t.n(o),r=t(6314),a=t.n(r),c=t(4417),l=t.n(c),i=new URL(t(883),t.b),s=a()(A()),d=l()(i);s.push([e.id,`.home_content {\n  font-size: 20px;\n  /* min-height: 1000px;\n    max-height: 2000px; */\n  padding-top: 45px;\n  height: 100vh;\n  overflow-y: auto;\n  background: url(${d});\n  /* background-repeat: no-repeat; */\n  background-size: cover;\n  -webkit-background-size: cover;\n  -o-background-size: cover;\n  background-position: center 0;\n}\n.home_content .home_under_content {\n  margin-top: 27px;\n  display: flex;\n  flex-direction: row;\n}\n.home_content .home_under_content .home_left_content {\n  width: 20vw;\n  height: 100%;\n  color: aqua;\n  border-right: 1px solid #fff;\n}\n.home_content .home_under_content .home_right_content {\n  flex: 1;\n}\n.home_content .home_under_content .home_right_content .home_search {\n  text-align: center;\n}\n.home_content .home_under_content .home_right_content .home_list {\n  height: 1000px;\n}\n`,"",{version:3,sources:["webpack://./src/page/home/index.less"],names:[],mappings:"AAAA;EACI,eAAA;EACF;yBACuB;EACrB,iBAAA;EACA,aAAA;EACA,gBAAA;EACA,mDAAA;EACF,kCAAkC;EAChC,sBAAA;EACA,8BAAA;EACA,yBAAA;EACA,6BAAA;AACJ;AAbA;EAcQ,gBAAA;EACA,aAAA;EACA,mBAAA;AAER;AAlBA;EAkBY,WAAA;EACA,YAAA;EACA,WAAA;EACA,4BAAA;AAGZ;AAxBA;EAwBW,OAAA;AAGX;AA3BA;EA0BgB,kBAAA;AAIhB;AA9BA;EA6BgB,cAAA;AAIhB",sourcesContent:[".home_content {\n    font-size: 20px;\n    /* min-height: 1000px;\n    max-height: 2000px; */\n    padding-top: 45px;\n    height: 100vh;\n    overflow-y: auto;\n    background: url('../../../public/back.jpg');\n    /* background-repeat: no-repeat; */\n    background-size: cover;\n    -webkit-background-size: cover;\n    -o-background-size: cover;\n    background-position: center 0;\n    .home_under_content {\n        margin-top: 27px;\n        display: flex;\n        flex-direction: row;\n        .home_left_content {\n            width: 20vw;\n            height: 100%;\n            color: aqua;\n            border-right: 1px solid #fff;\n        }\n        .home_right_content {\n           flex: 1;\n            .home_search {\n                text-align: center;\n            }\n            .home_list {\n                height: 1000px;\n            }\n        }\n    }\n    \n    \n}"],sourceRoot:""}]);const m=s},883:(e,n,t)=>{e.exports=t.p+"images/71bc7f798ffa873a8176.jpg"}}]);
//# sourceMappingURL=109.bundle.js.map